import{d as j,i as C,s as i,k as w,j as A,u as S,x as $,f as a,o as s,z as E,c as n,g as r,F as _,h as H,t as u,a as L,A as R,e as F,E as p}from"./app.5087e0a9.js";import{_ as I}from"./PendingBattle.266c5672.js";const J=r("h2",{class:"join-head-text"},"Available Battles:",-1),P={class:"join-container"},V={class:"join-battle-title"},z={key:1,class:"join-loading"},d=j({__name:"join-battle",setup(D){const m=C(),{pendingBattles:f,hasPendingBattle:g}=i(w()),{currentAccountAddress:k,avaxContract:h}=i(A()),{setAlertInfo:v,setErrorMessage:B}=S(),c=$(()=>f.value.filter(t=>!t.players.some(e=>e.toLowerCase()===k.value.toLowerCase()))),y=async t=>{var e;try{await((e=h.value)==null?void 0:e.joinBattle(t)),v({type:"success",message:`Joining ${t}...`})}catch(l){B(l)}};return(t,e)=>{const l=I,x=R;return a(g)?(s(),E(l,{key:0})):(s(),n(_,{key:1},[J,r("div",P,[a(c).length?(s(!0),n(_,{key:0},H(a(c),(o,b)=>(s(),n("div",{key:o.battleHash,class:"flex-between"},[r("p",V,u(b+1)+". "+u(o.name),1),L(x,{title:"Join",onHandleClick:M=>y(o.name)},null,8,["onHandleClick"])]))),128)):(s(),n("p",z,"Reload the page to see new battles"))]),r("p",{class:"info-text",onClick:e[0]||(e[0]=o=>a(m).push("/create-battle"))}," Or create a new battle ")],64))}}});typeof p=="function"&&p(d);const T=F(d,[["__file","/home/runner/work/avax_gods/avax_gods/src/pages/join-battle.vue"]]);export{T as default};
